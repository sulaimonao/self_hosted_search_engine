{
  "name": "self-hosted-search-engine-desktop",
  "version": "0.0.1",
  "private": true,
  "main": "electron/main.js",
  "scripts": {
    "dev:web": "cross-env NEXT_PUBLIC_API_BASE_URL=http://127.0.0.1:5050 npm --prefix frontend run dev -- --hostname localhost --port 3100",
    "dev:api": "make api || cross-env PYTHONPATH=. BACKEND_PORT=5050 python3 -m backend.app",
    "dev:electron": "wait-on http://localhost:3100 && cross-env FRONTEND_URL=http://localhost:3100 electronmon --trace-warnings electron/main.js",
    "dev:desktop": "concurrently -k -n WEB,API,ELECTRON \"npm:dev:web\" \"npm:dev:api\" \"npm:dev:electron\"",
    "desktop": "npm run dev:desktop",
    "build:web": "npm --prefix frontend run build:web && npm --prefix frontend exec next export || npm --prefix frontend run build:web",
    "build:desktop": "npm run build:web && electron-builder"
  },
  "devDependencies": {
    "concurrently": "^9.0.0",
    "cross-env": "^7.0.3",
    "electron": "^31.2.0",
    "electron-builder": "^24.13.3",
    "electronmon": "^2.0.2",
    "wait-on": "^7.2.0"
  },
  "build": {
    "appId": "com.yourdomain.personal-search-engine",
    "productName": "Personal Search Engine",
    "files": [
      "electron/**/*",
      "backend/**/*",
      "frontend/.next/**/*",
      "frontend/out/**/*",
      "frontend/public/**/*",
      "frontend/package.json",
      "package.json"
    ],
    "mac": {
      "category": "public.app-category.productivity",
      "artifactName": "${productName}-${version}-mac.${ext}"
    },
    "directories": {
      "buildResources": "build"
    }
  }
}
