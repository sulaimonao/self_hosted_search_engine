{
  "name": "self-hosted-search-engine-desktop",
  "version": "0.0.1",
  "private": true,
  "main": "electron/main.js",
  "scripts": {
    "dev:web": "cross-env NEXT_PUBLIC_API_BASE_URL=http://127.0.0.1:5050 npm --prefix frontend run dev:web",
    "dev:api": "make api || cross-env PYTHONPATH=. BACKEND_PORT=5050 python3 -m backend.app",
    "dev:electron": "npm --prefix frontend run dev:electron",
    "dev:electron:wait": "npm --prefix frontend run dev:electron:wait",
    "dev:desktop": "npm --prefix frontend run stop:web >/dev/null 2>&1 || true && RENDERER_PORT=$(npm --prefix frontend exec detect-port 3100) && DESKTOP_RENDERER_URL=http://127.0.0.1:$RENDERER_PORT concurrently -k --success=first --raw -n WEB,API,ELECTRON -c auto \"PORT=$RENDERER_PORT npm --prefix frontend run dev:web\" \"npm run dev:api\" \"RENDERER_PORT=$RENDERER_PORT DESKTOP_RENDERER_URL=$DESKTOP_RENDERER_URL npm --prefix frontend run dev:electron:wait\"",
    "stop": "pkill -f '[n]ext dev' || true; pkill -f '[e]lectron' || true; pkill -f 'backend\\.app' || true",
    "desktop": "node scripts/run-desktop.js",
    "build:web": "npm --prefix frontend run build:web && npm --prefix frontend exec next export || npm --prefix frontend run build:web",
    "build:desktop": "npm run build:web && electron-builder && open \"dist/mac/Personal Search Engine.app\"",
    "diagnose:browser": "electron scripts/diagnoseBrowser.js",
    "diagnose:browser:fast": "DIAG_TIMEOUT=10000 electron scripts/diagnoseBrowser.js"
  },
  "devDependencies": {
    "concurrently": "^9.0.0",
    "cross-env": "^7.0.3",
    "electron": "^31.2.0",
    "electron-builder": "^24.13.3",
    "electronmon": "^2.0.2",
    "wait-on": "^7.2.0"
  },
  "build": {
    "appId": "com.yourdomain.personal-search-engine",
    "productName": "Personal Search Engine",
    "files": [
      "electron/**/*",
      "backend/**/*",
      "frontend/.next/**/*",
      "frontend/out/**/*",
      "frontend/public/**/*",
      "frontend/package.json",
      "package.json"
    ],
    "mac": {
      "category": "public.app-category.productivity",
      "artifactName": "${productName}-${version}-mac.${ext}"
    },
    "directories": {
      "buildResources": "build"
    }
  },
  "dependencies": {
    "better-sqlite3": "^12.4.1"
  }
}
