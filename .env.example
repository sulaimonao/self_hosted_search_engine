# Core App & Servers
APP_BASE_URL=http://127.0.0.1:3100
APP_URL=http://127.0.0.1:3100
API_URL=http://127.0.0.1:5050
BACKEND_URL=http://127.0.0.1:5050
BACKEND_HOST=127.0.0.1
BACKEND_PORT=5050
BACKEND_DEV=true
BACKEND_RELOAD=true
FRONTEND_URL=http://127.0.0.1:3100
FRONTEND_HOST=127.0.0.1
FRONTEND_PORT=3100
FRONTEND_PROTOCOL=http
DEV_SERVER_HOST=127.0.0.1
DEV_SERVER_PORT=3100
DEV_SERVER_PROTOCOL=http
NODE_ENV=development
DEV_ALLOW_AUTOPULL=true

# Desktop / Electron
DESKTOP_PORT=43210
DESKTOP_RENDERER_URL=http://127.0.0.1:3100
DESKTOP_FRONTEND_BASE=http://127.0.0.1:3100
DESKTOP_BROWSER_ROUTE=/browser
DESKTOP_PREFLIGHT_INTERVAL=500
DESKTOP_PREFLIGHT_ATTEMPTS=3
DESKTOP_PREFLIGHT_HEALTH_ATTEMPTS=3
DESKTOP_PREFLIGHT_HEALTH_INTERVAL=1200
DESKTOP_SKIP_BUILD_CHECK=true
DESKTOP_WAIT_TIMEOUT_MS=30000
DESKTOP_WAIT_RESOURCE=networkidle0
DESKTOP_USER_AGENT="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
ELECTRON_WAIT_TIMEOUT_MS=15000
ELECTRON_START_URL=http://127.0.0.1:3100

# Agent Browser / Headless Automation
AGENT_BROWSER_ENABLED=true
AGENT_BROWSER_HEADLESS=true
AGENT_BROWSER_DEFAULT_TIMEOUT_S=15
AGENT_BROWSER_NAV_TIMEOUT_MS=30000
AGENT_BROWSER_IDLE_TIMEOUT_S=30
AGENT_BROWSER_MAX_RETRIES=2
AGENT_BROWSER_PREWARM=true
AGENT_BROWSER_ACTION_TIMEOUT_MS=30000
AGENT_USER_AGENT="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
AGENT_REQUEST_TIMEOUT=30
AGENT_READ_TIMEOUT=60
NEXT_PUBLIC_IN_APP_BROWSER=true
NEXT_PUBLIC_AGENT_ENABLED=true

# Crawling & Discovery
CRAWL_USE_PLAYWRIGHT=true
CRAWL_RESPECT_ROBOTS=true
CRAWL_CONCURRENT_REQUESTS=8
CRAWL_CONCURRENT_PER_DOMAIN=4
CRAWL_DOWNLOAD_DELAY=0.25
CRAWL_MAX_PAGES=100
CRAWL_USER_AGENT=self-hosted-search-engine/desktop
CRAWL_STORE=./data/learned_web
CRAWL_ALLOW_LIST=
CRAWL_DENY_LIST=
CRAWL_LOG_LEVEL=info
DISCOVERY_FEED_TIMEOUT=10
FRONTIER_PER_HOST=64
FRONTIER_POLITENESS_DELAY=250

# Diagnostics & Self-Heal
DIAGNOSTICS_API_BASE_URL=http://127.0.0.1:5050/api
DIAGNOSTICS_PYTEST_ARGS=
DIAG_TIMEOUT=30
SELF_HEAL_BASE_URL=http://127.0.0.1:5050/api/diagnostics
SELF_HEAL_HTTP_TIMEOUT_S=30
SELF_HEAL_MAX_RULES=100
SELF_HEAL_PLAN_TIMEOUT_S=15
SELF_HEAL_PLAN_MAX_STEPS=12
SELF_HEAL_METRICS=true
SELF_HEAL_MODEL=llama3.1:8b-instruct
SELF_HEAL_TIMEOUT_S=20
SELF_HEAL_TRIES=2

# Models & LLMs
LLM_PRIMARY=gpt-oss
LLM_FALLBACK=gemma3
LLM_EMBEDDER=embeddinggemma
LLM_MODEL=gpt-oss
EMBED_MODEL=embeddinggemma
EMBED_AUTO_INSTALL=true
OLLAMA_URL=http://127.0.0.1:11434
OLLAMA_MODEL=gpt-oss
OLLAMA_HOST=http://127.0.0.1:11434
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_TIMEOUT=60
USE_LLM=true
USE_LLM_RERANK=false

# Paths & Storage
DATA_DIR=./data
INDEX_DIR=./data/index
LOGS_DIR=./logs
CHROMA_DB_PATH=./data/chroma
LEARNED_WEB_DB_PATH=./data/learned_web.sqlite3
APP_STATE_DB_PATH=./data/app_state.sqlite3
SHADOW_STATE_PATH=./data/shadow_state.json
TELEMETRY_DIR=./data/telemetry
TELEMETRY_EVENTS_PATH=./data/telemetry/events.jsonl

# Feature Flags
FEATURE_SHADOW_MODE=true
FEATURE_AGENT_MODE=true
FEATURE_LOCAL_DISCOVERY=true
NEXT_PUBLIC_FEATURE_SHADOW_MODE=true
NEXT_PUBLIC_FEATURE_AGENT_MODE=true
NEXT_PUBLIC_FEATURE_LOCAL_DISCOVERY=true

# Telemetry & Logging
LOG_LEVEL=info
CHAT_LOG_LEVEL=info

# Timeouts
PLAYWRIGHT_NAVIGATION_TIMEOUT=15000
SYSTEM_CHECK_DIAGNOSTICS_TIMEOUT=90

# Miscellaneous
API_TOKEN=
SECRET_KEY=
